<!doctype <!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="assets/css/reset.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="assets/css/style.css" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB"
        crossorigin="anonymous">
    <!-- <script src="assets/javascript/game.js"></script> -->


</head>

<body>

    <div class="container bg_poster">
        <div class="row pl-4 pt-2">
            <div class="col-3 text-center p-2" id="divLeft">
                
            </div>
            <div class="col-3 text-center p-2" id="divRight">
                <h1>Word Guess Game</h1>

                <div class="sizeup">Press any key to get started!</div><br>

                <div id="howmanywins" class="sizeup"></div><br>

                <div id="id_currentword" class="sizeup"></div><br>

                <div id="id_numoftries" class="sizeup"></div><br>

                <div id="id_usedletters" class="sizeup"></div><br>

                <div id="winorlose"></div>
            </div>
            <div class="col-3"></div>
            <div class="col-3"></div>
        </div>
    </div>

    <script type="text/javascript">

        console.log(numberOfTries);

        var picswitch = false;
        var numWins = 0;
        var theWord;
        var theLength;
        var blankWord = [];
        var usedLetters = [];
        var numberOfTries;
        var wordList = [
                    "johnny",
                    "cash",
                    "guitar",
                    "black",
                    "one"
                ];

        console.log(numberOfTries);

        function resetThisgame() {
                document.getElementById("divLeft").innerHTML = '<img src="https://images-na.ssl-images-amazon.com/images/I/61dJhUEtWrL._SL1200_.jpg" alt="Johnny Cash" width="200px">';

                theWord = wordList[Math.floor(Math.random() * wordList.length)];

                // var theWord = ["c","a","t","t","l","e"];
                theLength = theWord.length;
                // console.log("the word has " + theLength + " letters");

                blankWord = [];
                for (var i = 0; i < theLength; i++) {
                    blankWord.push("-");

                }
                usedLetters = [];

                numberOfTries = theLength * 2;
                // console.log("number of tries left: " + numberOfTries);

                document.getElementById("howmanywins").innerHTML = "Wins: " + numWins;
                document.getElementById("id_usedletters").innerHTML = "Letters already used: " + usedLetters;
                document.getElementById("id_currentword").innerHTML = "Current word is: <br><br>" + blankWord;
                document.getElementById("id_numoftries").innerHTML = "Number of guesses remaining: " + numberOfTries;
                //document.getElementById("winorlose").innerHTML = null;

                
            }

        resetThisgame();
        console.log(numberOfTries);

        document.onkeyup = function (event) {    // ---------------------------------------------------

            numberOfTries--;
            document.getElementById("winorlose").innerHTML = null;
            
            var keyStore01 = event.key;
            usedLetters.push(keyStore01);
            
            document.getElementById("divLeft").innerHTML = '<img src="https://images-na.ssl-images-amazon.com/images/I/61dJhUEtWrL._SL1200_.jpg" alt="Johnny Cash" width="200px">';

            document.getElementById("howmanywins").innerHTML = "Wins: " + numWins;
            document.getElementById("id_usedletters").innerHTML = "Letters already used: " + usedLetters;
            document.getElementById("id_currentword").innerHTML = "Current word is: <br><br> " + blankWord;
            document.getElementById("id_numoftries").innerHTML = "Number of guesses remaining: " + numberOfTries;

            for (i = 0; i < theLength; i++) {

                if (event.key === theWord[i]) {
                    //console.log("match on index ", i);
                    blankWord[i] = keyStore01;
                    document.getElementById("id_currentword").innerHTML = "Current word is: <br><br>" + blankWord;
                    // console.log(blankWord);
                } else { console.log("No match on index"); }
            }

            
            console.log("you have " + numberOfTries + " tries left");
            console.log(blankWord);

            if (numberOfTries === 0 && blankWord.indexOf("-") !== -1) {
                console.log("you lose!");
                
                resetThisgame();
                document.getElementById("winorlose").innerHTML = "Lose!";
                


            } else if (numberOfTries >= 0 && blankWord.indexOf("-") === -1) {
                console.log("you WIN!");
                numWins++;

                // usedLetters = [];

                // numberOfTries = "";
                // // reset_flag = 0;

                // document.getElementById("howmanywins").innerHTML = "Wins: " + numWins;
                // document.getElementById("id_usedletters").innerHTML = "Letters already used: " + usedLetters;
                // document.getElementById("id_currentword").innerHTML = "Current word is: " + blankWord;
                // document.getElementById("id_numoftries").innerHTML = "Number of guesses remaining: " + numberOfTries;

                resetThisgame();

                document.getElementById("winorlose").innerHTML = "Win!";
                
                document.getElementById("divLeft").innerHTML = '<img src="https://i.scdn.co/image/0c60dee7595c6fbd95ae1a327be3289215ada685" alt="Johnny Cash" width="200px">';

                var audio = new Audio('assets/sounds/johnny_cash_one_(NaitiMP3.ru).mp3');
                audio.play();

                // reset_flag = true;

                

            }
        }
        


        


   </script>



   
</body>

</html>